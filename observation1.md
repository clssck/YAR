Reset 6 documents from PROCESSING/FAILED to PENDING status
Processing 6 document(s)
Extracting stage 1/6: 2.3.4.4.4_BLU-808 Process Development Report.pdf
Processing d-id: doc-0b02f8b9d5a46a3f7ac78985c27a9285
Extracting stage 2/6: 2.3.4.4.7_BLU-808 - Polymorph Screening.pdf
Processing d-id: doc-ac4da355ee1a3f691b292dde33d1873d
Chunk 1 of 52 extracted 13 Ent + 11 Rel chunk-717647fa130bae2e4533427180ce0510
Chunk 2 of 52 extracted 22 Ent + 15 Rel chunk-fa7f3bde2a70d9ca9e11651e633228e4
Chunk 3 of 52 extracted 15 Ent + 14 Rel chunk-7a11254bc59b3e64647a344a49146b3f
Chunk 1 of 78 extracted 17 Ent + 16 Rel chunk-7834150528a7fc9c875dcb05067331cf
Chunk 2 of 78 extracted 18 Ent + 16 Rel chunk-4fa1fc507ed75e614cc50dad52159f06
Chunk 3 of 78 extracted 15 Ent + 15 Rel chunk-82e817da61bcd84db6c1040daa7d28ee
Chunk 4 of 78 extracted 16 Ent + 14 Rel chunk-c51b30b67568e2a5c48fd6285816b621
Chunk 5 of 78 extracted 24 Ent + 23 Rel chunk-0e4d71abd7e8fb47ba0b23f0aa83bb9c
Chunk 6 of 78 extracted 13 Ent + 11 Rel chunk-0dc51c267be3b0a83a432d567c7e202a
Chunk 7 of 78 extracted 14 Ent + 12 Rel chunk-73d768754e6ebe4af7666f60b2c30cc9
Chunk 8 of 78 extracted 15 Ent + 13 Rel chunk-e486c9a2f14dda690907a9ac5a248cc3
Chunk 9 of 78 extracted 11 Ent + 13 Rel chunk-eabf00a76c8b1873856a7175b1c39a04
Chunk 4 of 52 extracted 14 Ent + 13 Rel chunk-76dd5b7ebc912a52203ab4ac6bb0275d
Chunk 5 of 52 extracted 14 Ent + 19 Rel chunk-0a49c2e4f4c268f83c93a153834769f1
Chunk 10 of 78 extracted 13 Ent + 12 Rel chunk-4b20718aa60b3f3bfa21f48ff233e539
Chunk 6 of 52 extracted 14 Ent + 17 Rel chunk-a7bc7bb8b19f15304e07eca613ee060c
Chunk 7 of 52 extracted 12 Ent + 20 Rel chunk-df86e58abd5d9d73c255514ff7da898e
Chunk 8 of 52 extracted 19 Ent + 20 Rel chunk-5c201f3897fff7e3380704ad3e82c74c
Chunk 9 of 52 extracted 16 Ent + 18 Rel chunk-781f2afadef3b92af1590cf4c0ea174a
Chunk 10 of 52 extracted 12 Ent + 12 Rel chunk-f83e7dc8dbbf92dc62e36f18bd9dc580
Chunk 11 of 52 extracted 12 Ent + 11 Rel chunk-8e18ff0e3436d9efcc2735a3e93193de
Chunk 12 of 52 extracted 18 Ent + 21 Rel chunk-7c0a74468ea7b9cc77f12c14a9686a5e
Chunk 11 of 78 extracted 14 Ent + 13 Rel chunk-99770549eb1f1963ed8b80dd507b7991
Chunk 13 of 52 extracted 17 Ent + 20 Rel chunk-b0c5d7dacd40925415e3099348ac5600
Chunk 12 of 78 extracted 14 Ent + 12 Rel chunk-2791e2b44457f0d44bc678129849ec0d
Chunk 14 of 52 extracted 25 Ent + 24 Rel chunk-a9b35326e114e7f9d39bab81347df437
Chunk 15 of 52 extracted 20 Ent + 17 Rel chunk-927a903cc640fad4890a83b05e78ea29
Chunk 13 of 78 extracted 16 Ent + 12 Rel chunk-d6217838232f57f15a9c7842b6f5a287
Chunk 16 of 52 extracted 19 Ent + 23 Rel chunk-1555f2a443ea8d9ee029f13555466ac2
Chunk 17 of 52 extracted 18 Ent + 19 Rel chunk-f0ad57b2c0661140369f1910a71a7dad
Chunk 18 of 52 extracted 17 Ent + 20 Rel chunk-04b5e17c27488a61a264347d2807078e
Chunk 14 of 78 extracted 13 Ent + 11 Rel chunk-74a4c14acda401a57ca3f7a33ecb6264
Chunk 19 of 52 extracted 18 Ent + 17 Rel chunk-d7bde4d85ff2977b30c29d812e4bbc9e
Chunk 15 of 78 extracted 18 Ent + 14 Rel chunk-fe1ecf4e24dad4b36ef76d21c4d1f835
Chunk 16 of 78 extracted 18 Ent + 17 Rel chunk-1674ce2ddacbf3af476ba0b8df049222
Chunk 17 of 78 extracted 17 Ent + 18 Rel chunk-b862e31583bbabfe2718950cbb95b686
Chunk 18 of 78 extracted 19 Ent + 17 Rel chunk-35f79550ba5ad843f4301eaafc34b967
Chunk 19 of 78 extracted 22 Ent + 19 Rel chunk-90aa51cc95a8261d6fe3dc7dcfe2aac5
Chunk 20 of 78 extracted 17 Ent + 15 Rel chunk-5cc0fdf0dacd78e6fa7301b3bbdc151f
Chunk 21 of 78 extracted 14 Ent + 15 Rel chunk-15df237df8652c297b3d7f1fae8ee112
Chunk 20 of 52 extracted 16 Ent + 13 Rel chunk-d2ce5fe55ac015f921f7d026e303ba74
Chunk 22 of 78 extracted 19 Ent + 16 Rel chunk-f3e139c86886b989773b28774512a9fd
Chunk 23 of 78 extracted 17 Ent + 20 Rel chunk-e4a8a597b963f4c696353ba17bfcbdbd
Chunk 21 of 52 extracted 19 Ent + 18 Rel chunk-ed8e4d3eb05a083bd49431360a916f8e
Chunk 22 of 52 extracted 14 Ent + 13 Rel chunk-0373973a8c5a952d9e25ab70a01d26d3
Chunk 23 of 52 extracted 18 Ent + 19 Rel chunk-a35b5f8955a4ce6bbb2577f609ec9c34
Chunk 24 of 52 extracted 20 Ent + 32 Rel chunk-dafd283b8bf2613dadab8917a7957597
Chunk 24 of 78 extracted 15 Ent + 13 Rel chunk-49f9b7a8e02380ac410043cfee23e219
Chunk 25 of 52 extracted 15 Ent + 18 Rel chunk-776b21b8767826ac7dff0450993768c6
Chunk 25 of 78 extracted 17 Ent + 14 Rel chunk-67ec252d1b14c4a0032032685e8524bd
Chunk 26 of 52 extracted 16 Ent + 17 Rel chunk-db42cf91b8ce7b46d86839a1494b2b81
Chunk 27 of 52 extracted 18 Ent + 30 Rel chunk-53df69901a5054909767f43d412c0795
Chunk 28 of 52 extracted 19 Ent + 28 Rel chunk-6344e4fde5442743eeb677c3ce529827
Chunk 29 of 52 extracted 24 Ent + 23 Rel chunk-fa9c40c10dff59e027329170e9a983d1
Chunk 26 of 78 extracted 21 Ent + 19 Rel chunk-4ed78443ea86b1def2ca9585cb7c0d9d
Chunk 27 of 78 extracted 14 Ent + 18 Rel chunk-b853b05fcd4342435b25f3bb49e41bbf
Chunk 28 of 78 extracted 17 Ent + 16 Rel chunk-e9128d5b513541a79e609e470dfb904b
Chunk 30 of 52 extracted 15 Ent + 14 Rel chunk-60adc99d46b41831559ae56ee49e6f78
Chunk 29 of 78 extracted 19 Ent + 17 Rel chunk-305607c2dcd61514f6f9d090f66be017
Chunk 30 of 78 extracted 22 Ent + 19 Rel chunk-9b865893e0032441a9f1ba2cf548cacd
Chunk 31 of 78 extracted 15 Ent + 13 Rel chunk-2c0c119c0f8e70b7ac3a6b1802aba56e
Chunk 32 of 78 extracted 14 Ent + 14 Rel chunk-62215bd010c63d2f8469c4c473052a6e
Chunk 31 of 52 extracted 15 Ent + 16 Rel chunk-e1a208bb84f6491b2cacbbbbd0763e6e
Chunk 32 of 52 extracted 17 Ent + 16 Rel chunk-12d776baeba64d19e6bebbab50aa91d1
Chunk 33 of 52 extracted 15 Ent + 20 Rel chunk-d1062288b61e4a710b946c6ddfe51ba7
Chunk 33 of 78 extracted 17 Ent + 16 Rel chunk-53d7e1171975f9ef658fb55c293c4909
Chunk 34 of 78 extracted 28 Ent + 21 Rel chunk-9baa3bfb1d5fce739feb8a7346d39739
Chunk 34 of 52 extracted 24 Ent + 25 Rel chunk-8f8ecc29e2c319c8a88dc82f875df2d9
Chunk 35 of 52 extracted 18 Ent + 17 Rel chunk-f86ae7bf1736abe32e41ea0c5b7c736e
Chunk 35 of 78 extracted 20 Ent + 15 Rel chunk-acf20173224b53fcf8b79bde813af6bd
Failed to extract entities and relationships: RetryError[C[36/78]: chunk-5800f2b1497218995e6983b0bc36db8c: <Future at 0x7fa84fe3ec60 state=finished raised RateLimitError>]
Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/llm/openai.py", line 309, in openai_complete_if_cache
    response = await openai_async_client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py", line 2603, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/openai/_base_client.py", line 1794, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/openai/_base_client.py", line 1594, in request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'litellm.RateLimitError: BedrockException - {"message":"Too many requests, please wait before trying again."}. Received Model Group=bimbimbap\nAvailable Model Group Fallbacks=None', 'type': 'throttling_error', 'param': None, 'code': '429'}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3539, in _process_with_semaphore
    return await_process_single_content(chunk)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3424, in _process_single_content
    final_result, timestamp = await use_llm_func_with_cache(
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/utils.py", line 1996, in use_llm_func_with_cache
    res: str = await use_llm_func(
               ^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/utils.py", line 962, in wait_func
    return await future
           ^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/utils.py", line 666, in worker
    result = await asyncio.wait_for(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/asyncio/tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/api/yar_server.py", line 510, in optimized_openai_alike_model_complete
    return await openai_complete_if_cache(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args,**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x7fa84fe3ec60 state=finished raised RateLimitError>]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3543, in _process_with_semaphore
    raise prefixed_exception from e
tenacity.RetryError: RetryError[chunk-5800f2b1497218995e6983b0bc36db8c: <Future at 0x7fa84fe3ec60 state=finished raised RateLimitError>]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/yar/yar.py", line 1946, in process_document
    chunk_results = await entity_relation_task
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/yar.py", line 2230, in _process_extract_entities
    raise e
  File "/app/.venv/lib/python3.12/site-packages/yar/yar.py", line 2215, in_process_extract_entities
    chunk_results = await extract_entities(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3585, in extract_entities
    raise prefixed_exception from first_exception
tenacity.RetryError: RetryError[C[36/78]: chunk-5800f2b1497218995e6983b0bc36db8c: <Future at 0x7fa84fe3ec60 state=finished raised RateLimitError>]
Failed to extract document 1/6: 2.3.4.4.4_BLU-808 Process Development Report.pdf
Extracting stage 3/6: 2.3.4.4.8_BLU-808 - Salt and Cocrystal Screening.pdf
Processing d-id: doc-08abb7243ae5757d0e9fbda43b021b2c
Failed to extract entities and relationships: RetryError[C[36/52]: chunk-8e58aed837bc8d22145f68f3627e00e9: <Future at 0x7fa8525cec90 state=finished raised RateLimitError>]
Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/llm/openai.py", line 309, in openai_complete_if_cache
    response = await openai_async_client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py", line 2603, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/openai/_base_client.py", line 1794, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/openai/_base_client.py", line 1594, in request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'litellm.RateLimitError: BedrockException - {"message":"Too many requests, please wait before trying again."}. Received Model Group=bimbimbap\nAvailable Model Group Fallbacks=None', 'type': 'throttling_error', 'param': None, 'code': '429'}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3539, in _process_with_semaphore
    return await_process_single_content(chunk)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3450, in _process_single_content
    glean_result, timestamp = await use_llm_func_with_cache(
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/utils.py", line 1996, in use_llm_func_with_cache
    res: str = await use_llm_func(
               ^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/utils.py", line 962, in wait_func
    return await future
           ^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/utils.py", line 666, in worker
    result = await asyncio.wait_for(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/asyncio/tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/api/yar_server.py", line 510, in optimized_openai_alike_model_complete
    return await openai_complete_if_cache(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args,**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x7fa8525cec90 state=finished raised RateLimitError>]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3543, in _process_with_semaphore
    raise prefixed_exception from e
tenacity.RetryError: RetryError[chunk-8e58aed837bc8d22145f68f3627e00e9: <Future at 0x7fa8525cec90 state=finished raised RateLimitError>]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/.venv/lib/python3.12/site-packages/yar/yar.py", line 1946, in process_document
    chunk_results = await entity_relation_task
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/yar.py", line 2230, in _process_extract_entities
    raise e
  File "/app/.venv/lib/python3.12/site-packages/yar/yar.py", line 2215, in_process_extract_entities
    chunk_results = await extract_entities(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/.venv/lib/python3.12/site-packages/yar/operate.py", line 3585, in extract_entities
    raise prefixed_exception from first_exception
tenacity.RetryError: RetryError[C[36/52]: chunk-8e58aed837bc8d22145f68f3627e00e9: <Future at 0x7fa8525cec90 state=finished raised RateLimitError>]
Failed to extract document 2/6: 2.3.4.4.7_BLU-808 - Polymorph Screening.pdf
Extracting stage 4/6: 2.3.4.5.1_Stability Data Summary - BLU-808 Drug Product Tablets (Hovione, Portugal).pdf
Processing d-id: doc-91138b77a9e14cc4ead0523dab5420d8
Chunk 1 of 13 extracted 10 Ent + 10 Rel chunk-ea3ad0792f620863c8acb8feccadc12a
Chunk 1 of 69 extracted 13 Ent + 12 Rel chunk-fe8af474ab540b45c35f3aaf0547f4e6
Chunk 2 of 69 extracted 15 Ent + 16 Rel chunk-80caaf455b9f23c84c29f3a66c400510
Chunk 3 of 69 extracted 17 Ent + 19 Rel chunk-8cc8b424cb40adf345f8b76c499139a4
Chunk 4 of 69 extracted 17 Ent + 15 Rel chunk-784f6e12f8df44b1361375e1876b2539
Chunk 2 of 13 extracted 14 Ent + 13 Rel chunk-96cad7785f14bb2108e5c6f84296adb3
Chunk 3 of 13 extracted 10 Ent + 14 Rel chunk-e57d6b747cac5a6e0b4a8610ff5a6c1d
Chunk 5 of 69 extracted 25 Ent + 25 Rel chunk-ee205fe207aeaf70749d958baf9cb6a5
Chunk 6 of 69 extracted 16 Ent + 20 Rel chunk-91056c9f0aeaf3d73cf75987bc772d61
Chunk 4 of 13 extracted 16 Ent + 15 Rel chunk-c8d526e487b8c9b90f2d36346454d09e
Chunk 5 of 13 extracted 12 Ent + 19 Rel chunk-ee2eaec470e07d0ad9b58c32a45a3d06
Chunk 6 of 13 extracted 13 Ent + 21 Rel chunk-1a16121ba319e7e5a1ad19303fac13de
Chunk 7 of 69 extracted 19 Ent + 17 Rel chunk-60f1a5b7fa56a685549c4d84f31f9bc0
Chunk 8 of 69 extracted 20 Ent + 23 Rel chunk-92766141b586f244ff99dc2f92dba985
Chunk 9 of 69 extracted 12 Ent + 14 Rel chunk-f524fcd00b8c54ad720ded24d2bf6698
